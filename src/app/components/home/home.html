<div class="home-wrapper">

  <section class="top-section">

    <div class="left-column">

      <div class="panel news-panel">
        <h2>üì∞ Noticias destacadas</h2>

        <div *ngIf="!news.length" class="news-empty">
          <p>No hay noticias cargadas a√∫n.</p>
        </div>

        <div *ngIf="news.length">
  <div class="news-card" *ngFor="let n of news">
    <div class="news-img-wrapper">
      <img [src]="n.image" class="news-img" />
    </div>

    <div class="news-info">
      <h3 class="news-title">{{ n.title }}</h3>

      <p class="news-desc">{{ n.description }}</p>

      <button class="news-button" *ngIf="n?.url" (click)="openNews(n.url)">
        Leer noticia completa
      </button>
    </div>
  </div>
</div>
      </div>

      <div class="panel live-panel">
        <h2>
          Partidos en vivo <span class="live-dot"></span>
        </h2>

        <div *ngIf="loadingLive" class="empty">Cargando partidos...</div>
        <div *ngIf="!loadingLive && errorLive" class="empty">{{ errorLive }}</div>

        <div *ngIf="!loadingLive && liveGames.length" class="live-list">
          <div class="live-card" *ngFor="let g of liveGames" [routerLink]="['/game-details', g.id]">

            <div class="teams">
              <div class="team">
                <img [src]="g.visitors.logo" />
                <span>{{ g.visitors.name }}</span>
              </div>

              <div class="score">
                <strong>{{ g.visitors.pts }} - {{ g.home.pts }}</strong>
                <small>{{ g.period }}C ‚Äî {{ g.clock || 'En juego' }}</small>
              </div>

              <div class="team">
                <img [src]="g.home.logo" />
                <span>{{ g.home.name }}</span>
              </div>
            </div>

            <div class="arena">{{ g.arena }}</div>
          </div>
        </div>
      </div>

    </div>

    <div class="panel players-panel">
      <h2>üèÜ Mejores jugadores del d√≠a</h2>

      <div *ngIf="loadingPlayers" class="empty">Cargando jugadores...</div>
      <div *ngIf="!loadingPlayers && errorPlayers" class="empty">{{ errorPlayers }}</div>

      <div *ngIf="!loadingPlayers && bestPlayers.length" class="players-grid">
        <div class="player-card" *ngFor="let p of bestPlayers">
          <h3>{{ p.category }}</h3>
          <p><span>{{ p.player }}</span> <strong>{{ p.value }}</strong></p>
        </div>
      </div>
    </div>

  </section>

<button class="menu-open-btn" (click)="menuOpen = true">‚ò∞ Men√∫</button>

<div class="side-menu" [class.open]="menuOpen">

  <div class="side-menu-header">
    <h3>Men√∫ principal</h3>
    <button class="close-btn" (click)="menuOpen = false">‚úï</button>
  </div>

  <div class="side-menu-items">

    <div class="menu-item" routerLink="/standings" (click)="menuOpen = false">
      <h4>Clasificaci√≥n</h4>
      <p>Conferencias, r√©cords y posiciones.</p>
    </div>

    <div class="menu-item" routerLink="/teams" (click)="menuOpen = false">
      <h4>Equipos</h4>
      <p>Informaci√≥n completa de cada franquicia.</p>
    </div>

    <div class="menu-item" routerLink="/players" (click)="menuOpen = false">
      <h4>Jugadores</h4>
      <p>Estad√≠sticas y rendimiento.</p>
    </div>

    <div class="menu-item" routerLink="/games" (click)="menuOpen = false">
      <h4>Partidos</h4>
      <p>Resultados y pr√≥ximos juegos.</p>
    </div>

    <div class="menu-item" routerLink="/headtohead" (click)="menuOpen = false">
      <h4>Head To Head</h4>
      <p>Historial entre equipos.</p>
    </div>

    <div class="menu-item" 
         [class.disabled]="!auth.isLoggedIn()" 
         [routerLink]="auth.isLoggedIn() ? ['/fantasy-home'] : null"
         (click)="menuOpen = false">
      <h4>Fantasy Team</h4>
      <p>Gestion√° tu equipo de 5 jugadores.</p>
      <div class="note" *ngIf="!auth.isLoggedIn()">Requiere login</div>
    </div>

    <div class="menu-item"
         [class.disabled]="!auth.isLoggedIn()"
         [routerLink]="auth.isLoggedIn() ? ['/predictions'] : null"
         (click)="menuOpen = false">
      <h4>Predicciones</h4>
      <p>Gan√° puntos acertando resultados.</p>
      <div class="note" *ngIf="!auth.isLoggedIn()">Requiere login</div>
    </div>

    <div class="menu-item"
         [class.disabled]="!auth.isLoggedIn()"
         [routerLink]="auth.isLoggedIn() ? ['/favorites'] : null"
         (click)="menuOpen = false">
      <h4>Favoritos</h4>
      <p>Acceso r√°pido a tus preferidos.</p>
      <div class="note" *ngIf="!auth.isLoggedIn()">Requiere login</div>
    </div>

  </div>

</div>
